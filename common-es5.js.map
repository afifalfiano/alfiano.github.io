{"version":3,"sources":["webpack:///src/app/current-post/blogs.ts","webpack:///src/app/current-post/current-post.component.ts","webpack:///src/app/current-post/current-post.component.html","webpack:///src/app/current-post/shared.module.ts"],"names":["dataFormat","Blogs","scullySvc","blogs$","available$","pipe","routeList","filter","r","test","route","sort","a","b","adate","exec","bdate","Date","getTime","startsWith","map","e","idx","number","length","CurrentPostComponent","routerSvc","console","log","blog","routerState","snapshot","url","selector","templateUrl","styleUrls","SharedModule","provide","useClass","declarations","exports","imports","providers"],"mappings":"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","file":"common-es5.js","sourcesContent":["\r\nimport { Injectable } from '@angular/core';\r\nimport { ScullyRoutesService, ScullyRoute } from '@scullyio/ng-lib';\r\nimport { map } from 'rxjs/operators';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { Blog } from './current-post.component';\r\n\r\nconst dataFormat = /(\\d\\d?-\\d\\d?-\\d\\d\\d\\d)/;\r\n\r\n@Injectable()\r\nexport class Blogs {\r\n  constructor(private scullySvc: ScullyRoutesService) {}\r\n\r\n  blogs$ = this.scullySvc.available$.pipe(\r\n    map(routeList => {\r\n      routeList = routeList\r\n        .filter(r => dataFormat.test(r.route))\r\n        .sort((a, b) => {\r\n          const adate = dataFormat.exec(a.route)[0];\r\n          const bdate = dataFormat.exec(b.route)[0];\r\n          return new Date(bdate).getTime() - new Date(adate).getTime();\r\n        });\r\n      return routeList\r\n        .filter((route: ScullyRoute) => route.route.startsWith(`/blog/`))\r\n        .map((e, idx) => ({ ...e, number: routeList.length - idx }));\r\n    })\r\n  ) as Observable<Blog[]>;\r\n}\r\n","import { HomeComponent } from './../home/home.component';\r\nimport { Router } from '@angular/router';\r\nimport { Component, OnInit, Input, ViewChild } from '@angular/core';\r\n\r\nexport interface Blog {\r\n  title: string;\r\n  description: string;\r\n  route: string;\r\n  number: number;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-current-post',\r\n  templateUrl: './current-post.component.html',\r\n  styleUrls: ['./current-post.component.css']\r\n})\r\nexport class CurrentPostComponent implements OnInit {\r\n  // @ViewChild(HomeComponent) dataBlogs;\r\n  @Input() blog: Blog;\r\n\r\n\r\n  constructor(\r\n    private routerSvc: Router\r\n  ) {\r\n    console.log('ini current post', this.blog);\r\n    // console.log(this.dataBlogs);\r\n  }\r\n  ngOnInit(){\r\n  }\r\n\r\n  get detailPost() {\r\n    return this.routerSvc.routerState.snapshot.url !== this.blog.route;\r\n  }\r\n}\r\n","<section *ngIf=\"blog\">\r\n    <h1>\r\n      <span>Blog #{{ blog.number }} [blogs]=\"blog\"</span>\r\n      {{ blog.title }}\r\n    </h1>\r\n  </section>\r\n  <summary *ngIf=\"blog\">\r\n    {{ blog.description }}\r\n    <a *ngIf=\"detailPost\" [routerLink]=\"blog.route\">Find more</a>\r\n  </summary>\r\n  ","import { CurrentPostComponent } from './current-post.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { Blogs } from './blogs';\r\n\r\n@NgModule({\r\n  declarations: [CurrentPostComponent],\r\n  exports: [CurrentPostComponent],\r\n  imports: [CommonModule, RouterModule],\r\n  providers: [{\r\n    provide: Blogs,\r\n    useClass: Blogs\r\n  }]\r\n})\r\nexport class SharedModule {}\r\n"]}